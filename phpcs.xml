<?xml version="1.0"?>
<ruleset name="WordPress Coding Standards for Plugins">
    <description>Generally-applicable sniffs for WordPress plugins</description>

    <rule ref="WordPress-Extra" />
    <rule ref="WordPress-Docs" />
    <rule ref="WordPress-VIP-Go" />

    <rule ref="WordPress">
        <!-- Use PSR-4 naming -->
        <exclude name="WordPress.Files.FileName.NotHyphenatedLowercase" />
        <exclude name="WordPress.Files.FileName.InvalidClassFileName" />

        <!-- Only comment when neccessary -->
        <exclude name="Squiz.Commenting.FileComment.Missing" />
        <exclude name="Squiz.Commenting.FileComment.MissingPackageTag" />
        <exclude name="Squiz.Commenting.ClassComment.Missing" />
        <exclude name="Squiz.Commenting.FunctionComment.Missing" />
        <exclude name="Squiz.Commenting.FunctionComment.MissingParamTag" />
        <exclude name="Squiz.Commenting.VariableComment.Missing" />
        <exclude name="Squiz.Commenting.InlineComment.InvalidEndChar" />

        <exclude name="Generic.Arrays.DisallowShortArraySyntax.Found" />
        <exclude name="Universal.Arrays.DisallowShortArraySyntax.Found" />
        <exclude name="Universal.Operators.DisallowStandalonePostIncrementDecrement.PostIncrementFound" />
        <exclude name="Squiz.Functions.MultiLineFunctionDeclaration.SpaceAfterFunction" />
        <exclude name="Generic.Commenting.DocComment.MissingShort" />
    </rule>

    <rule ref="WordPress.NamingConventions.PrefixAllGlobals">
        <properties>
            <!-- Value: replace the function, class, and variable prefixes used. Separate multiple prefixes with a comma. -->
            <property name="prefixes" type="array" value="Newspack\MigrationTools"/>
        </properties>
    </rule>
    <rule ref="WordPress.WP.I18n">
        <properties>
            <!-- Value: replace the text domain used. -->
            <property name="text_domain" type="array" value="Newspack\MigrationTools"/>
        </properties>
    </rule>

    <rule ref="PHPCompatibilityWP"/>
    <config name="testVersion" value="8.0"/>

    <arg name="extensions" value="php"/>

    <!-- Show sniff codes in all reports -->
    <arg value="s"/>

    <!-- Allow invoking just `phpcs` on command line without assuming STDIN for file input. -->
    <file>.</file>

    <exclude-pattern>*/vendor/*</exclude-pattern>
</ruleset>